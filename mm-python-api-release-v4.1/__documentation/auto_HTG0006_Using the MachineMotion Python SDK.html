<link rel="stylesheet" href="https://cdn.rawgit.com/tylingsoft/markdown-core/0.7.0/dist/markdown-core.min.css"><div style="text-align: center;"><img src="https://s3.amazonaws.com/ventioncms/vention_images/images/000/001/021/large/cover_python_guide.png?1550698357" width="80%"></div>
<p>&nbsp;</p>
<h2 id="introduction"><a class="anchor" href="#introduction"><span class="octicon octicon-link"></span></a>Introduction</h2>
<p>This guide will cover the setup and use of Vention’s MachineMotion™ Python Software Development Kit (SDK). After reading this guide, the user will be ready to deploy custom motion &amp; control applications using Vention’s MachineMotion controller. It is recommended to read the <a href="https://www.vention.io/technical_documents/machine_motion_docs/vention_machine_motion_user_guide" target="_blank">MachineMotion Quick Start Guide</a> to get familiar with the technology prior to reading this document.</p>
<h2 id="typical-system-overview"><a class="anchor" href="#typical-system-overview"><span class="octicon octicon-link"></span></a>Typical System Overview</h2>
<p>Numerous systems are built by centralizing application level software on a host computer. The software role is to interact with various devices (i.e. robotic devices, sensors, proprietary products, data acquisition equipment) and deliver the required application behavior (see Exhibit 2).</p>
<p style="text-align:center;"><img src="https://s3.amazonaws.com/ventioncms/vention_images/images/000/001/027/large/auto_HTG0006_typicalApplication.png?1550763014" width="65%" height="65%"></p>
<center>
<p style="text-align: center;"><span style="color: #808080; font-size: 11pt;"><em>Figure 1: Typical System Configuration</em></span></p>
</center>
<p>The use of MachineMotion and Python is perfectly suited for this type of application, especially where an easy to deploy motion control system is necessary.</p>
<h2 id="installation"><a class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>
<h3 id="windows"><a class="anchor" href="#windows"><span class="octicon octicon-link"></span></a>Windows</h3>
<p>Follow the steps below to set up the MachineMotion Python
library:</p>
<ul>
<li>
<p>Download the latest
<a href="https://www.vention.io/technical_documents/machine_motion_docs/vention_machine_motion_python_programming_guide_v1_5/download" target="_blank">Python SDK 1.6.2</a></p>
</li>
<li>
<p>Extract the content on your computer. This location will be your workspace.</p>
</li>
<li>
<p>Install
<a href="https://www.python.org/download/releases/2.7/" target="_blank">Python 2.7</a></p>
</li>
</ul>
<p><em><ins>Note for Windows Users</ins>: make sure to add Python.exe to the PATH environment carriable as shown in <em>Figure 2</em>.</em></p>
<p style="text-align:center;"><img src="https://s3.amazonaws.com/ventioncms/vention_images/images/000/001/026/large/auto_HTG0006_pythonInstPathInstruction.png?1550763013" width="45%" height="45%"></p>
<p style="text-align: center;"><span style="color: #808080; font-size: 11pt;"><em>Figure 2: Make sure to "Add python.exe to path" if intsalling on Windows.</em></span></p>
<ul>
<li>
<p>Open the command promt (Window users) or the terminal (Mac or Linux Users) and run the following installations</p>
<pre><code class="hljs">pip install -U socketIO-client</code></pre><pre><code class="hljs">pip install -U pathlib</code></pre></li>
<li>
<p>The MachineMotion Python library is now ready to use. Programs can be created and ran from the workspace folder.</p>
</li>
</ul>
<h2 id="connectivity-setup"><a class="anchor" href="#connectivity-setup"><span class="octicon octicon-link"></span></a>Connectivity Setup</h2>
<p>MachineMotion has two communication ports, one labeled USB and one labelled ETHERNET. Both use IP connectivity and have their own
distinct IP address, see <em>Figure 3</em>.</p>
<br>
<p style="text-align:center;"><img src="https://s3.amazonaws.com/ventioncms/vention_images/images/000/001/025/large/auto_HTG0006_machineMotionFrontPanel.png?1550763012" width="50%" height="50%"></p>
<p style="text-align: center;"><span style="color: #808080; font-size: 11pt;"><em>Figure 3: MachineMotion Front Panel.</em></span></p>
<p>The IP address associated with the USB port is static (192.168.7.2 for Windows and 192.168.6.2 for Mac and Linux). It cannot be configured or modified. The USB port should be used for direct computer to MachineMotion connectivity.</p>
<p>The IP address associated with the ETHERNET port can be modified to suit the user’s network requirements. Refer to the <a href="https://www.vention.io/" target="_blank">How-to Guide: MachineMotion Network Setup</a> for more details.</p>
<h2 id="configuration-functions"><a class="anchor" href="#configuration-functions"><span class="octicon octicon-link"></span></a>Configuration Functions</h2>
<p>When creating a Python program to control the MachineMotion controller, the first step is always to create a MachineMotion instance. This will establish the communication with the actual controller and also expose different functions that can be used to send commands.</p>
<p>Following the creation of the MachineMotion instance, the network configuration and axis configuration need to be done. The functions to perform these steps are covered in this section.</p>
<hr>
<h3 id="machinemotioncallback-ip"><a class="anchor" href="#machinemotioncallback-ip"><span class="octicon octicon-link"></span></a>MachineMotion(callback, ip)</h3>
<p>Creates a MachineMotion instance and establishes the TCP/IP communication. This function is a constructor.</p>
<h4 id="callback-def-callbacknamedata"><a class="anchor" href="#callback-def-callbacknamedata"><span class="octicon octicon-link"></span></a>callback {def callbackName(data):}</h4>
<blockquote>
<p>Handle in which incoming messages from the controller can be processed. The data will be passed as a string argument to the callback.</p>
</blockquote>
<h4 id="ip-string"><a class="anchor" href="#ip-string"><span class="octicon octicon-link"></span></a>ip {string}</h4>
<blockquote>
<p>Ip address of the MachineMotion controller to connect to.</p>
</blockquote>
<h4 id="return-value-machinemotion"><a class="anchor" href="#return-value-machinemotion"><span class="octicon octicon-link"></span></a>return value {MachineMotion}</h4>
<blockquote>
<p>Instance created by the constructor.</p>
</blockquote>
<h4 id="example"><a class="anchor" href="#example"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-keyword">print</span> <span class="hljs-string">"Controller connected"</span></code></pre><h4 id="output"><a class="anchor" href="#output"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller connected</code></pre><hr>
<h3 id="configmachinemotionipmode-ip-netmask-gateway"><a class="anchor" href="#configmachinemotionipmode-ip-netmask-gateway"><span class="octicon octicon-link"></span></a>configMachineMotionIp(mode, ip, netmask, gateway)</h3>
<p>Configures the IP address of the controller Ethernet interface.</p>
<h4 id="mode-network_mode"><a class="anchor" href="#mode-network_mode"><span class="octicon octicon-link"></span></a>mode {NETWORK_MODE}</h4>
<blockquote>
<p>Ip allocation mode of the network, static or dhcp.</p>
</blockquote>
<h4 id="ip-string-2"><a class="anchor" href="#ip-string-2"><span class="octicon octicon-link"></span></a>ip {String}</h4>
<blockquote>
<p>Desired static ip address to assign to the MachineMotion controller. Format is "nnn.nnn.nnn.nnnn", where n are numbers.</p>
</blockquote>
<h4 id="netmask-string"><a class="anchor" href="#netmask-string"><span class="octicon octicon-link"></span></a>netmask {String}</h4>
<blockquote>
<p>Network netmask. Format is "nnn.nnn.nnn.nnnn", where n are numbers.</p>
</blockquote>
<h4 id="gateway-string"><a class="anchor" href="#gateway-string"><span class="octicon octicon-link"></span></a>gateway {String}</h4>
<blockquote>
<p>Ip address of the network gateway. Format is "nnn.nnn.nnn.nnnn", where n are numbers.</p>
</blockquote>
<h4 id="return-value"><a class="anchor" href="#return-value"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-1"><a class="anchor" href="#example-1"><span class="octicon octicon-link"></span></a>Example 1</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

machine_motion_example = machine_motion_example.configMachineMotionIp(NETWORK_MODE.static, <span class="hljs-string">"192.168.0.2"</span>, <span class="hljs-string">"255.255.255.0"</span>, <span class="hljs-string">"192.168.0.1"</span>)

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Controller connected &amp; ethernet interface configured (static)"</span></code></pre><h4 id="output-1"><a class="anchor" href="#output-1"><span class="octicon octicon-link"></span></a>Output 1</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
--&gt; Controller connected &amp; ethernet interface configured (static)</code></pre><h4 id="example-2"><a class="anchor" href="#example-2"><span class="octicon octicon-link"></span></a>Example 2</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

machine_motion_example = machine_motion_example.configMachineMotionIp(NETWORK_MODE.dhcp, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>)

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Controller connected &amp; ethernet interface configured (dhcp)"</span></code></pre><h4 id="output-2"><a class="anchor" href="#output-2"><span class="octicon octicon-link"></span></a>Output 2</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
--&gt; Controller connected &amp; ethernet interface configured (dhcp)</code></pre><hr>
<h3 id="configaxisaxis-u_step-mech_gain"><a class="anchor" href="#configaxisaxis-u_step-mech_gain"><span class="octicon octicon-link"></span></a>configAxis(axis, u_step, mech_gain)</h3>
<p>Configure the axis mechanical gain and micro-stepping settings to ensure that motion is accurate.</p>
<h4 id="axis-number"><a class="anchor" href="#axis-number"><span class="octicon octicon-link"></span></a>axis {Number}</h4>
<blockquote>
<p>Axis to configure</p>
</blockquote>
<p>u_step {MICRO_STEPS}</p>
<blockquote>
<p>Micro-step setting</p>
</blockquote>
<h4 id="mech_gain-mech_gain"><a class="anchor" href="#mech_gain-mech_gain"><span class="octicon octicon-link"></span></a>mech_gain {MECH_GAIN}</h4>
<blockquote>
<p>Mechanical gain of the axis in mm / turn</p>
</blockquote>
<h4 id="return-value-2"><a class="anchor" href="#return-value-2"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-2"><a class="anchor" href="#example-2"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Configure the axis number one, 8 uSteps and 150 mm / turn for a timing belt</span>
machine_motion_example = machine_motion_example.configAxis(<span class="hljs-number">1</span>, MICRO_STEPS.ustep_8, MECH_GAIN.timing_belt_150mm_turn)

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Controller axis 1 configured"</span></code></pre><h4 id="output-2"><a class="anchor" href="#output-2"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 M92 X10*99
Controller gCode responses ok
--&gt; Controller axis 1 configured</code></pre><hr>
<h3 id="savedatakey-data"><a class="anchor" href="#savedatakey-data"><span class="octicon octicon-link"></span></a>saveData(key, data)</h3>
<p>Save a key-value pair on the controller.</p>
<h4 id="key-string"><a class="anchor" href="#key-string"><span class="octicon octicon-link"></span></a>key {String}</h4>
<blockquote>
<p>Key to identify the data</p>
</blockquote>
<h4 id="data-dictionary"><a class="anchor" href="#data-dictionary"><span class="octicon octicon-link"></span></a>data {Dictionary}</h4>
<blockquote>
<p>Dictionary containing the data to save</p>
</blockquote>
<h4 id="return-value-3"><a class="anchor" href="#return-value-3"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-3"><a class="anchor" href="#example-3"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Saving a string on the controller</span>
machine_motion_example = machine_motion_example.saveData(<span class="hljs-string">"data_1"</span>, <span class="hljs-string">"save_this_string_on_the_controller"</span>)

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Data sent on controller"</span></code></pre><hr>
<h3 id="getdatakey-callback"><a class="anchor" href="#getdatakey-callback"><span class="octicon octicon-link"></span></a>getData(key, callback)</h3>
<p>Retrieve a key-value pair that was saved on the controller.</p>
<h4 id="key-string-2"><a class="anchor" href="#key-string-2"><span class="octicon octicon-link"></span></a>key {String}</h4>
<blockquote>
<p>Key is a string that identifies the data to retrieve</p>
</blockquote>
<h4 id="callback-def-callbacknamedata-2"><a class="anchor" href="#callback-def-callbacknamedata-2"><span class="octicon octicon-link"></span></a>callback {def callbackName(data):}</h4>
<blockquote>
<p>Function to invoke once the data is available. The data will be passed as an argument to the callback as a serialized JSON string.</p>
</blockquote>
<h4 id="example-4"><a class="anchor" href="#example-4"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

<span class="hljs-comment"># Define a callback to print the data retrieved using the getData function</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">printGetDataResult</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Retrieved data = "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Saving a string on the controller</span>
machine_motion_example.saveData(<span class="hljs-string">"data_1"</span>, <span class="hljs-string">"save_this_string_on_the_controller"</span>)


machine_motion_example.getData(<span class="hljs-string">"data_1"</span>, printGetDataResult)</code></pre><h4 id="output-3"><a class="anchor" href="#output-3"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
--&gt; Retrieved data = {"data": "save_this_string_on_the_controller", "fileName": "data_1"}</code></pre><h2 id="motion-functions"><a class="anchor" href="#motion-functions"><span class="octicon octicon-link"></span></a>Motion Functions</h2>
<hr>
<h3 id="isready"><a class="anchor" href="#isready"><span class="octicon octicon-link"></span></a>isReady()</h3>
<p>Blocking function that waits for the MachineMotion controller to ackowledge the command before continuing code execution. This is a code flow control function.</p>
<h4 id="return-value-4"><a class="anchor" href="#return-value-4"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-5"><a class="anchor" href="#example-5"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Homing axis one</span>
machine_motion_example.emitHome(<span class="hljs-number">1</span>)
<span class="hljs-comment"># Wait for the message to be acknowledged by the motion controller</span>
<span class="hljs-keyword">while</span> machine_motion_example.isReady() != <span class="hljs-string">"true"</span>: <span class="hljs-keyword">pass</span>

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; This line executes after the motion controller has acknowledged the reception of the command."</span></code></pre><h4 id="output-4"><a class="anchor" href="#output-4"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 G28 X*105
Controller gCode responses X:0.00 Y:0.00 Z:0.00 E:0.00 Count X: 0 Y:0 Z:0
Controller gCode responses ok
--&gt; This line executes after the motion controller has acknowledged the reception of the command.</code></pre><hr>
<h3 id="waitformotioncompletion"><a class="anchor" href="#waitformotioncompletion"><span class="octicon octicon-link"></span></a>waitForMotionCompletion()</h3>
<p>Blocking function that holds the program execution until the last motion command sent completes. As long as the machine has not finised its last movement, code execution will be blocked.</p>
<h4 id="return-value-5"><a class="anchor" href="#return-value-5"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-6"><a class="anchor" href="#example-6"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Homing axis one</span>
machine_motion_example.emitHome(<span class="hljs-number">1</span>)
<span class="hljs-comment"># Wait for the message to be acknowledged by the motion controller</span>
<span class="hljs-keyword">while</span> machine_motion_example.isReady() != <span class="hljs-string">"true"</span>: <span class="hljs-keyword">pass</span>
machine_motion_example.waitForMotionCompletion()

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; This line executes after the motion controller has acknowledged the reception of the command."</span></code></pre><h4 id="output-5"><a class="anchor" href="#output-5"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 G28 X*105
Controller gCode responses X:0.00 Y:0.00 Z:0.00 E:0.00 Count X: 0 Y:0 Z:0
Controller gCode responses ok
Controller gCode responses echo:N3 V0*59
A motion status was requested
move is in progress
Controller gCode responses Motion Status = COMPLETED
Controller gCode responses ok
Controller gCode responses echo:N4 V0*60
A motion status was requested
Move was completed
Controller gCode responses Motion Status = COMPLETED
--&gt; This line executes after the motion controller has acknowledged the reception of the command.
Controller gCode responses ok</code></pre><hr>
<h3 id="emitstop"><a class="anchor" href="#emitstop"><span class="octicon octicon-link"></span></a>emitStop()</h3>
<p>Immediately stops motion on all axes.</p>
<h4 id="return-value-6"><a class="anchor" href="#return-value-6"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-7"><a class="anchor" href="#example-7"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Send a stop command to the Machine (even if it is not moving yet !)</span>
machine_motion_example.emitStop()

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Machine Stopped"</span></code></pre><h4 id="output-6"><a class="anchor" href="#output-6"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 M410*36
Controller gCode responses ok
--&gt; Machine Stopped</code></pre><hr>
<h3 id="emithomeall"><a class="anchor" href="#emithomeall"><span class="octicon octicon-link"></span></a>emitHomeAll()</h3>
<p>Moves all carriages to their home location sequentially, axis one to axis three.</p>
<h4 id="return-value-7"><a class="anchor" href="#return-value-7"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-8"><a class="anchor" href="#example-8"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Homing all the axes of the controller sequentially</span>
machine_motion_example.emitHomeAll()
machine_motion_example.waitForMotionCompletion()

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; All axes are now at home position."</span></code></pre><hr>
<h3 id="emithomeaxis"><a class="anchor" href="#emithomeaxis"><span class="octicon octicon-link"></span></a>emitHome(axis)</h3>
<p>Moves the carriage of the corresponding axis to its home location.</p>
<h4 id="axis-axis_number"><a class="anchor" href="#axis-axis_number"><span class="octicon octicon-link"></span></a>axis {AXIS_NUMBER}</h4>
<blockquote>
<p>Axis to move to home location</p>
</blockquote>
<h4 id="return-value-8"><a class="anchor" href="#return-value-8"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-9"><a class="anchor" href="#example-9"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Homing axis one</span>
machine_motion_example.emitHome(<span class="hljs-number">1</span>)
machine_motion_example.waitForMotionCompletion()

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Axis 1 is now at home position."</span></code></pre><h4 id="output-7"><a class="anchor" href="#output-7"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 G28 X*105
Controller gCode responses X:0.00 Y:0.00 Z:0.00 E:0.00 Count X: 0 Y:0 Z:0
Controller gCode responses ok
Controller gCode responses echo:N3 V0*59
A motion status was requested
move is in progress
Controller gCode responses Motion Status = COMPLETED
Controller gCode responses ok
Controller gCode responses echo:N4 V0*60
A motion status was requested
Move was completed
Controller gCode responses Motion Status = COMPLETED
--&gt; Axis 1 is now at home position.
Controller gCode responses ok</code></pre><hr>
<h3 id="emitspeedmmpermin"><a class="anchor" href="#emitspeedmmpermin"><span class="octicon octicon-link"></span></a>emitSpeed(mmPerMin)</h3>
<p>Configures the travel speed. Travel speed applies to combined axis moves and single axis moves.</p>
<h4 id="mmpermin-number"><a class="anchor" href="#mmpermin-number"><span class="octicon octicon-link"></span></a>mmPerMin {Number}</h4>
<blockquote>
<p>Motion speed in millimeters per minute</p>
</blockquote>
<h4 id="return-value-9"><a class="anchor" href="#return-value-9"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-10"><a class="anchor" href="#example-10"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Configuring the travel speed to 10 000 mm / min</span>
machine_motion_example.emitSpeed(<span class="hljs-number">10000</span>)

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Machine moves are not set to 10 000 mm / min"</span></code></pre><hr>
<h3 id="emitaccelerationmmpersecsqr"><a class="anchor" href="#emitaccelerationmmpersecsqr"><span class="octicon octicon-link"></span></a>emitAcceleration(mmPerSecSqr)</h3>
<p>Configures the travel acceleration. Travel acceleration applies to combined axis moves and single axis moves.</p>
<h4 id="mmpersecsqr-number"><a class="anchor" href="#mmpersecsqr-number"><span class="octicon octicon-link"></span></a>mmPerSecSqr {Number}</h4>
<blockquote>
<p>Motion speed in millimeters per minute</p>
</blockquote>
<h4 id="return-value-10"><a class="anchor" href="#return-value-10"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-11"><a class="anchor" href="#example-11"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Configuring the travel speed to 1000 mm / second^2</span>
machine_motion_example.emitAcceleration(<span class="hljs-number">1000</span>)

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Machine moves are not set to accelerate @ 1000 mm / second^2"</span></code></pre><h4 id="output-8"><a class="anchor" href="#output-8"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 M204 T1000*82
Controller gCode responses Setting Travel Acceleration: 1000.00
Controller gCode responses ok
--&gt; Machine moves are not set to accelerate @ 1000 mm / second^2</code></pre><hr>
<h3 id="emitabsolutemoveaxis-position"><a class="anchor" href="#emitabsolutemoveaxis-position"><span class="octicon octicon-link"></span></a>emitAbsoluteMove(axis, position)</h3>
<p>Configures the travel acceleration. Travel acceleration applies to combined axis moves and single axis moves.</p>
<h4 id="axis-axis_number-2"><a class="anchor" href="#axis-axis_number-2"><span class="octicon octicon-link"></span></a>axis {AXIS_NUMBER}</h4>
<blockquote>
<p>Axis to move to home location</p>
</blockquote>
<h4 id="position-string"><a class="anchor" href="#position-string"><span class="octicon octicon-link"></span></a>position {String}</h4>
<blockquote>
<p>Position of the carriage</p>
</blockquote>
<h4 id="return-value-11"><a class="anchor" href="#return-value-11"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-12"><a class="anchor" href="#example-12"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Configuring the travel speed to 10 000 mm / min</span>
machine_motion_example.emitSpeed(<span class="hljs-number">10000</span>)

<span class="hljs-comment"># Configuring the travel speed to 1000 mm / second^2</span>
machine_motion_example.emitAcceleration(<span class="hljs-number">1000</span>)

<span class="hljs-comment"># Homing axis one</span>
machine_motion_example.emitHome(<span class="hljs-number">1</span>)
machine_motion_example.waitForMotionCompletion()

<span class="hljs-comment"># Move the axis one to position 100 mm</span>
machine_motion_example.emitAbsoluteMove(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)
machine_motion_example.waitForMotionCompletion()

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Example completed."</span></code></pre><h4 id="output-9"><a class="anchor" href="#output-9"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 G0 F10000*124
Controller gCode responses ok
Controller gCode responses echo:N3 M204 T1000*83
Controller gCode responses Setting Travel Acceleration: 1000.00
Controller gCode responses ok
Controller gCode responses echo:N4 G28 X*111
Controller gCode responses echo:busy: processing
Controller gCode responses X:0.00 Y:0.00 Z:0.00 E:0.00 Count X: 0 Y:0 Z:0
Controller gCode responses ok
Controller gCode responses echo:N5 G90*21
Controller gCode responses ok
Controller gCode responses echo:N6 G0 X100*102
Controller gCode responses ok
--&gt; Example completed.</code></pre><hr>
<h3 id="emitrelativemove-axis-direction-distance"><a class="anchor" href="#emitrelativemove-axis-direction-distance"><span class="octicon octicon-link"></span></a>emitRelativeMove (axis, direction, distance)</h3>
<p>Moves the gantry to a relative position based on the current gantry location.</p>
<h4 id="axis-axis_number-3"><a class="anchor" href="#axis-axis_number-3"><span class="octicon octicon-link"></span></a>axis {AXIS_NUMBER}</h4>
<blockquote>
<p>Axis to move to home location</p>
</blockquote>
<h4 id="direction-string"><a class="anchor" href="#direction-string"><span class="octicon octicon-link"></span></a>direction {String}</h4>
<blockquote>
<p>Motion direction</p>
</blockquote>
<h4 id="distance-number"><a class="anchor" href="#distance-number"><span class="octicon octicon-link"></span></a>distance {Number}</h4>
<blockquote>
<p>Distance to move in mm</p>
</blockquote>
<h4 id="return-value-12"><a class="anchor" href="#return-value-12"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-13"><a class="anchor" href="#example-13"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Configuring the travel speed to 10 000 mm / min</span>
machine_motion_example.emitSpeed(<span class="hljs-number">10000</span>)

<span class="hljs-comment"># Configuring the travel speed to 1000 mm / second^2</span>
machine_motion_example.emitAcceleration(<span class="hljs-number">1000</span>)

<span class="hljs-comment"># Homing axis one</span>
machine_motion_example.emitHome(<span class="hljs-number">1</span>)

<span class="hljs-comment"># Move the axis one to position 100 mm</span>
machine_motion_example.emitAbsoluteMove(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)
machine_motion_example.waitForMotionCompletion()

<span class="hljs-comment"># Move the axis one by a negative increment of 100 mm</span>
machine_motion_example.emitRelativeMove(<span class="hljs-number">1</span>, <span class="hljs-string">"negative"</span>, <span class="hljs-number">100</span>)
machine_motion_example.waitForMotionCompletion()

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Example completed."</span></code></pre><h4 id="output-10"><a class="anchor" href="#output-10"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 G0 F10000*124
Controller gCode responses ok
Controller gCode responses echo:N3 M204 T1000*83
Controller gCode responses Setting Travel Acceleration: 1000.00
Controller gCode responses ok
Controller gCode responses echo:N4 G28 X*111
Controller gCode responses X:0.00 Y:0.00 Z:0.00 E:0.00 Count X: 0 Y:0 Z:0
Controller gCode responses ok
Controller gCode responses echo:N5 G90*21
Controller gCode responses ok
Controller gCode responses echo:N6 G0 X100*102
Controller gCode responses ok
Controller gCode responses echo:N7 G91*22
Controller gCode responses ok
Controller gCode responses echo:N8 G0 X-100*69
--&gt; Example completed.
Controller gCode responses ok</code></pre><hr>
<h3 id="emitgcodegcode"><a class="anchor" href="#emitgcodegcode"><span class="octicon octicon-link"></span></a>emitgCode(gCode)</h3>
<p>Sends a direct G-Code string command. See the G-Code Commands section for more details.</p>
<h4 id="gcode-string"><a class="anchor" href="#gcode-string"><span class="octicon octicon-link"></span></a>gCode {String}</h4>
<blockquote>
<p>G-Code command to send to the controller</p>
</blockquote>
<h4 id="return-value-13"><a class="anchor" href="#return-value-13"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="example-14"><a class="anchor" href="#example-14"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Configuring the travel speed to 10 000 mm / min</span>
machine_motion_example.emitSpeed(<span class="hljs-number">10000</span>)

<span class="hljs-comment"># Configuring the travel speed to 1000 mm / second^2</span>
machine_motion_example.emitAcceleration(<span class="hljs-number">1000</span>)

<span class="hljs-comment"># Homing axis one</span>
machine_motion_example.emitHome(<span class="hljs-number">1</span>)
machine_motion_example.waitForMotionCompletion()

<span class="hljs-comment"># Use the G0 command to move both axis one and two by 500mm at a travel speed of 10 000 mm / minute</span>
machine_motion_example.emitgCode(<span class="hljs-string">"G0 X500 Y500 F10000"</span>)
machine_motion_example.waitForMotionCompletion()

<span class="hljs-keyword">print</span> <span class="hljs-string">"--&gt; Example completed."</span></code></pre><h4 id="output-11"><a class="anchor" href="#output-11"><span class="octicon octicon-link"></span></a>Output</h4>
<pre><code class="hljs">Controller gCode responses MachineMotion Session Start
Controller gCode responses echo:N0 M110 N0*125
Controller gCode responses ok
Controller gCode responses echo:N1 M111 S247*97
Controller gCode responses echo:DEBUG:ECHO,INFO,ERRORS,COMMUNICATION
Controller gCode responses ok
Controller gCode responses echo:N2 G0 F10000*124
Controller gCode responses ok
Controller gCode responses echo:N3 M204 T1000*83
Controller gCode responses Setting Travel Acceleration: 1000.00
Controller gCode responses ok
Controller gCode responses echo:N4 G28 X*111
Controller gCode responses echo:busy: processing
Controller gCode responses X:0.00 Y:3000.00 Z:0.00 E:0.00 Count X: 0 Y:24000 Z:0
Controller gCode responses ok
Controller gCode responses echo:N5 V0*61
Controller gCode responses Motion Status = COMPLETED
Controller gCode responses ok
Controller gCode responses echo:N6 V0*62
Controller gCode responses Motion Status = COMPLETED
Controller gCode responses ok
Controller gCode responses echo:N7 G0 X50 Y50 F10000*120
Controller gCode responses ok
Controller gCode responses echo:N8 V0*48
Controller gCode responses Motion Status = IN_PROGRESS
Controller gCode responses ok
Controller gCode responses echo:N9 V0*49
Controller gCode responses Motion Status = IN_PROGRESS
Controller gCode responses ok
Controller gCode responses echo:N10 V0*9
Controller gCode responses Motion Status = IN_PROGRESS
Controller gCode responses ok
Controller gCode responses echo:N11 V0*8
Controller gCode responses Motion Status = IN_PROGRESS
Controller gCode responses ok
Controller gCode responses echo:N12 V0*11
Controller gCode responses Motion Status = IN_PROGRESS
Controller gCode responses ok
Controller gCode responses echo:N13 V0*10
Controller gCode responses Motion Status = COMPLETED
--&gt; Example completed.
Controller gCode responses ok</code></pre><h2 id="control-device-functions"><a class="anchor" href="#control-device-functions"><span class="octicon octicon-link"></span></a>Control Device Functions</h2>
<p>Functions that exchange data with the MachineMotion controller (no movement involved).</p>
<hr>
<h3 id="attachcontroldeviceport-device-callback"><a class="anchor" href="#attachcontroldeviceport-device-callback"><span class="octicon octicon-link"></span></a>attachControlDevice(port, device, callback)</h3>
<p>Configures a control device on a specific MachineMotion port.</p>
<h4 id="port-control_device_ports"><a class="anchor" href="#port-control_device_ports"><span class="octicon octicon-link"></span></a>port {CONTROL_DEVICE_PORTS}</h4>
<blockquote>
<p>Port on which the device is connected</p>
</blockquote>
<h4 id="device-control_device_type"><a class="anchor" href="#device-control_device_type"><span class="octicon octicon-link"></span></a>device {CONTROL_DEVICE_TYPE}</h4>
<blockquote>
<p>Type of device connected</p>
</blockquote>
<h4 id="callback-def-callbacknamedata-3"><a class="anchor" href="#callback-def-callbacknamedata-3"><span class="octicon octicon-link"></span></a>callback {def callbackName(data):}</h4>
<blockquote>
<p>Function to invoke once the data is available. The data will be passed as an argument to the callback as a serialized JSON string.</p>
</blockquote>
<h4 id="return-value-14"><a class="anchor" href="#return-value-14"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="callback-argument-string"><a class="anchor" href="#callback-argument-string"><span class="octicon octicon-link"></span></a>callback argument {String}</h4>
<blockquote>
<p>Status message containing</p>
</blockquote>
<h4 id="example-15"><a class="anchor" href="#example-15"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data
   
<span class="hljs-comment"># Define a callback to invoked when a control device is attached to the controller</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">attachControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Attach control device callback: "</span> + data      

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Attach (configure) a control device (an encoder in this case) to the MachineMotion controller.</span>
machine_motion_controller.attachControlDevice(<span class="hljs-string">"SENSOR4"</span>,<span class="hljs-string">"ENCODER"</span>, attachControlDeviceCallback)</code></pre><hr>
<h3 id="detachcontroldeviceport-callback"><a class="anchor" href="#detachcontroldeviceport-callback"><span class="octicon octicon-link"></span></a>detachControlDevice(port, callback)</h3>
<p>deConfigures a control device on a specific MachineMotion port.</p>
<h4 id="port-control_device_ports-2"><a class="anchor" href="#port-control_device_ports-2"><span class="octicon octicon-link"></span></a>port {CONTROL_DEVICE_PORTS}</h4>
<blockquote>
<p>Port on which the device is connected</p>
</blockquote>
<h4 id="callback-def-callbacknamedata-4"><a class="anchor" href="#callback-def-callbacknamedata-4"><span class="octicon octicon-link"></span></a>callback {def callbackName(data):}</h4>
<blockquote>
<p>Function to invoke once the data is available. The data will be passed as an argument to the callback as a serialized JSON string.</p>
</blockquote>
<h4 id="return-value-15"><a class="anchor" href="#return-value-15"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="callback-argument-string-2"><a class="anchor" href="#callback-argument-string-2"><span class="octicon octicon-link"></span></a>callback argument {String}</h4>
<blockquote>
<p>Status message containing</p>
</blockquote>
<h4 id="example-16"><a class="anchor" href="#example-16"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data
   
<span class="hljs-comment"># Define a callback to invoke when a control device is attached to the controller</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">attachControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Attach control device callback: "</span> + data   

<span class="hljs-comment"># Define a callback to invoke when a control device is detached from the controller    </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">detachControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Detach control device callback: "</span> + data     

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Attach (configure) a control device (an encoder in this case) to the MachineMotion controller.</span>
machine_motion_controller.attachControlDevice(<span class="hljs-string">"SENSOR4"</span>,<span class="hljs-string">"ENCODER"</span>, attachControlDeviceCallback)

<span class="hljs-comment"># Some other code here ...</span>

<span class="hljs-comment"># Detach (deconfigure) a control device that was previously attached to the MachineMotion controller.</span>
machine_motion_controller.detachControlDevice(<span class="hljs-string">"SENSOR4"</span>, detachControlDeviceCallback)</code></pre><hr>
<h3 id="readcontroldeviceport-signal-callback"><a class="anchor" href="#readcontroldeviceport-signal-callback"><span class="octicon octicon-link"></span></a>readControlDevice(port, signal, callback)</h3>
<p>Read a given signal on a control device on a specific MachineMotion port.</p>
<h4 id="port-control_device_ports-3"><a class="anchor" href="#port-control_device_ports-3"><span class="octicon octicon-link"></span></a>port {CONTROL_DEVICE_PORTS}</h4>
<blockquote>
<p>Port on which the device is connected</p>
</blockquote>
<h4 id="signal-control_device_signals"><a class="anchor" href="#signal-control_device_signals"><span class="octicon octicon-link"></span></a>signal {CONTROL_DEVICE_SIGNALS}</h4>
<blockquote>
<p>Signal to read on the device</p>
</blockquote>
<h4 id="callback-def-callbacknamedata-5"><a class="anchor" href="#callback-def-callbacknamedata-5"><span class="octicon octicon-link"></span></a>callback {def callbackName(data):}</h4>
<blockquote>
<p>Function to invoke once the data is available. The data will be passed as an argument to the callback as a serialized JSON string.</p>
</blockquote>
<h4 id="return-value-16"><a class="anchor" href="#return-value-16"><span class="octicon octicon-link"></span></a>return value</h4>
<blockquote>
<p>none</p>
</blockquote>
<h4 id="callback-argument-json-formatted-string"><a class="anchor" href="#callback-argument-json-formatted-string"><span class="octicon octicon-link"></span></a>callback argument {JSON formatted String}</h4>
<blockquote>
<p>{ port:   "port",
signal: "signal",
value:  "value read",
error:  "error message“}</p>
</blockquote>
<h4 id="example-17"><a class="anchor" href="#example-17"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data
   
<span class="hljs-comment"># Define a callback to invoke when a control device is attached to the controller</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">attachControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Attach control device callback: "</span> + data   

<span class="hljs-comment"># Define a callback to invoke when a control device is detached from the controller    </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">detachControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Detach control device callback: "</span> + data     

<span class="hljs-comment"># Define a callback to invoke when a control device is read    </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">readControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Read control device callback: "</span> + data      

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Attach (configure) a control device (an encoder in this case) to the MachineMotion controller.</span>
machine_motion_controller.attachControlDevice(<span class="hljs-string">"SENSOR4"</span>,<span class="hljs-string">"ENCODER"</span>, attachControlDeviceCallback)

count = <span class="hljs-number">0</span>

<span class="hljs-keyword">for</span> count <span class="hljs-keyword">in</span> range (<span class="hljs-number">0</span>, <span class="hljs-number">100</span>):

    <span class="hljs-comment"># Read the signal of a control device. SIGNAL0 of the encoder returns the relative position in turns. The encoder resets its position to 0 at power-on. Position is given in turns.</span>
    machine_motion_controller.readControlDevice(<span class="hljs-string">"SENSOR4"</span>, <span class="hljs-string">"SIGNAL0"</span>, readControlDeviceCallback)

    time.sleep(<span class="hljs-number">1</span>)

<span class="hljs-comment"># Detach (deconfigure) a control device that was previously attached to the MachineMotion controller.</span>
machine_motion_controller.detachControlDevice(<span class="hljs-string">"SENSOR4"</span>, detachControlDeviceCallback)</code></pre><hr>
<h3 id="writecontroldeviceport-signal-callback"><a class="anchor" href="#writecontroldeviceport-signal-callback"><span class="octicon octicon-link"></span></a>writeControlDevice(port, signal, callback)</h3>
<p>DeConfigures a control device on a specific MachineMotion port.</p>
<h4 id="port-control_device_ports-4"><a class="anchor" href="#port-control_device_ports-4"><span class="octicon octicon-link"></span></a>port {CONTROL_DEVICE_PORTS}</h4>
<blockquote>
<p>Port on which the device is connected</p>
</blockquote>
<h4 id="signal-control_device_signals-2"><a class="anchor" href="#signal-control_device_signals-2"><span class="octicon octicon-link"></span></a>signal {CONTROL_DEVICE_SIGNALS}</h4>
<blockquote>
<p>Signal to read on the device</p>
</blockquote>
<h4 id="callback-argument-json-formatted-string-2"><a class="anchor" href="#callback-argument-json-formatted-string-2"><span class="octicon octicon-link"></span></a>callback argument {JSON formatted String}</h4>
<blockquote>
<p>{ port:   "port",
signal: "signal",
value:  "value read",
error:  "error message“}</p>
</blockquote>
<h4 id="example-18"><a class="anchor" href="#example-18"><span class="octicon octicon-link"></span></a>Example</h4>
<pre><code class="hljs"><span class="hljs-keyword">from</span> MachineMotion <span class="hljs-keyword">import</span> *

<span class="hljs-comment"># Define a callback to process controller gCode responses (if desired)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">templateCallback</span><span class="hljs-params">(data)</span>:</span>
   <span class="hljs-keyword">print</span> <span class="hljs-string">"Controller gCode responses "</span> + data
   
<span class="hljs-comment"># Define a callback to invoke when a control device is attached to the controller</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">attachControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Attach control device callback: "</span> + data   

<span class="hljs-comment"># Define a callback to invoke when a control device is detached from the controller    </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">detachControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Detach control device callback: "</span> + data    
    
<span class="hljs-comment"># Define a callback to invoke when a control device is read    </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">readControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Read control device callback: "</span> + data   

<span class="hljs-comment"># Define a callback to invoke when a control device is written</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">writeControlDeviceCallback</span><span class="hljs-params">(data)</span>:</span>
    <span class="hljs-keyword">print</span> <span class="hljs-string">"Write control device callback: "</span> + data 

machine_motion_example = MachineMotion(templateCallback, DEFAULT_IP_ADDRESS.usb_windows)

<span class="hljs-comment"># Attach (configure) a control device (an encoder in this case) to the MachineMotion controller.</span>
machine_motion_controller.attachControlDevice(<span class="hljs-string">"SENSOR4"</span>,<span class="hljs-string">"IO_EXPANDER_GENERIC"</span>, attachControlDeviceCallback)

count = <span class="hljs-number">0</span>

<span class="hljs-keyword">for</span> count <span class="hljs-keyword">in</span> range (<span class="hljs-number">0</span>, <span class="hljs-number">100</span>):

    <span class="hljs-comment"># Read the signal of a control device. SIGNAL0 of the IO expander. Returns True or Flase depending on the state of the IO.</span>
    machine_motion_controller.readControlDevice(<span class="hljs-string">"SENSOR4"</span>, <span class="hljs-string">"SIGNAL0"</span>, readControlDeviceCallback)

    time.sleep(<span class="hljs-number">1</span>)
    
    <span class="hljs-comment"># Write the signal of a control device. SIGNAL0 of the IO expander.</span>
    machine_motion_controller.writeControlDevice(<span class="hljs-string">"SENSOR4"</span>, <span class="hljs-string">"SIGNAL0"</span>, writeControlDeviceCallback)    
    
    time.sleep(<span class="hljs-number">1</span>)

<span class="hljs-comment"># Detach (deconfigure) a control device that was previously attached to the MachineMotion controller.</span>
machine_motion_controller.detachControlDevice(<span class="hljs-string">"SENSOR4"</span>, detachControlDeviceCallback)</code></pre><h2 id="executing-python-programs"><a class="anchor" href="#executing-python-programs"><span class="octicon octicon-link"></span></a>Executing Python Programs</h2>
<ul>
<li>
<p>Open the command prompt (Windows users) or terminal (for Mac &amp; Linux users).</p>
</li>
<li>
<p>Browse to the directory where you program is saved.</p>
</li>
<li>
<p>Execute your program.</p>
<pre><code class="hljs">python yourProgram.py</code></pre></li>
<li>
<p>Various status messages will be displayed on the console when the program starts running.</p>
</li>
<li>
<p>To stop the execution of the program, press CRTL + c</p>
</li>
</ul>
<h2 id="g-code"><a class="anchor" href="#g-code"><span class="octicon octicon-link"></span></a>G-Code</h2>
<h3 id="sending-g-code"><a class="anchor" href="#sending-g-code"><span class="octicon octicon-link"></span></a>Sending G-Code</h3>
<p>G-Code is a text based protocol broadly utilized to control the motion of multi axis machines. The API presented in the previous section employs it to communicate motion-related commands to the MachineMotion controller</p>
<p>More advanced users might wish to utilize specialized commands that are available via the G-Code protocol. The emitgCode <strong>(gCode)</strong> function presented in <em>Table 6</em> can be used for this purpose.</p>
<h3 id="g-code-reference"><a class="anchor" href="#g-code-reference"><span class="octicon octicon-link"></span></a>G-Code Reference</h3>
<p>The MachineMotion Python Library Package contains a list of G-Code commands available for advanced users. You can download it at the following link <a href="https://www.vention.io/" target="_blank">G-Code Reference Functions</a>.</p>
<p>Some useful G-Code commands that can be utilized via the emitgCode function are listed below for convenience.</p>
<h4 id="configuration-functions-2"><a class="anchor" href="#configuration-functions-2"><span class="octicon octicon-link"></span></a>Configuration Functions</h4>
<div class="markdown-body" style="font-family:Larsseit; display: table;">
<table>
<thead>
<tr>
<th><strong>G-Code Function ID</strong></th>
<th style="text-align:left"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>M201</td>
<td style="text-align:left">Set Max Acceleration</td>
</tr>
<tr>
<td>M203</td>
<td style="text-align:left">Set Max Feedrate</td>
</tr>
<tr>
<td>M204</td>
<td style="text-align:left">Set Acceleration</td>
</tr>
<tr>
<td>G0 &amp; G1</td>
<td style="text-align:left">Set Feedrate (Travel Speed)</td>
</tr>
</tbody>
</table>
</div>
<p style="text-align: center;"><span style="color: #808080; font-size: 11pt;"><em>Table 1: G-Code Configuration Functions</em></span></p>
<h4 id="control-functions"><a class="anchor" href="#control-functions"><span class="octicon octicon-link"></span></a>Control Functions</h4>
<div class="markdown-body" style="font-family:Larsseit; display: table;">
<table>
<thead>
<tr>
<th><strong>G-Code Function ID</strong></th>
<th style="text-align:left"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>G90</td>
<td style="text-align:left">Set Absolute Motion</td>
</tr>
<tr>
<td>G91</td>
<td style="text-align:left">Set Relative Motion</td>
</tr>
<tr>
<td>G0</td>
<td style="text-align:left">Linear Move</td>
</tr>
<tr>
<td>G28</td>
<td style="text-align:left">Home</td>
</tr>
</tbody>
</table>
</div>
<p style="text-align: center;"><span style="color: #808080; font-size: 11pt;"><em>Table 2: G-Code Control Functions</em></span></p>
<h4 id="communication-functions"><a class="anchor" href="#communication-functions"><span class="octicon octicon-link"></span></a>Communication Functions</h4>
<div class="markdown-body" style="font-family:Larsseit; display: table;">
<table>
<thead>
<tr>
<th><strong>G-Code Function ID</strong></th>
<th style="text-align:left"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>M114</td>
<td style="text-align:left">Get Current Position</td>
</tr>
<tr>
<td>M119</td>
<td style="text-align:left">GEt EndStop States</td>
</tr>
</tbody>
</table>
</div>
<p style="text-align: center;"><span style="color: #808080; font-size: 11pt;"><em>Table 3: G-Code Communication Functions</em></span></p>
<p><strong>Note on Axis Mapping</strong></p>
<p>Note that when using direct G-Code commands, the axis name mapping of <em>Table 4</em> applies.</p>
<div class="markdown-body" style="font-family:Larsseit; display: table;">
<table>
<thead>
<tr>
<th style="text-align:center"><strong>G-Code Axis Name</strong></th>
<th style="text-align:center"><strong>MachineMotion Axis Name</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">X</td>
<td style="text-align:center">1</td>
</tr>
<tr>
<td style="text-align:center">Y</td>
<td style="text-align:center">2</td>
</tr>
<tr>
<td style="text-align:center">z</td>
<td style="text-align:center">3</td>
</tr>
</tbody>
</table>
</div>